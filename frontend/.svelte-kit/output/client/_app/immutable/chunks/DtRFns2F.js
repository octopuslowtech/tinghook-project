var x=Object.defineProperty;var rr=(r,t,e)=>t in r?x(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var I=(r,t,e)=>rr(r,typeof t!="symbol"?t+"":t,e);import{aZ as J,J as M,M as Y,U as R,h as S,aQ as tr,a_ as er,a$ as ir,Z as sr,x as ar,A as q,B as ur,b0 as fr,k as or,b1 as nr,G as B,b2 as lr,b3 as cr,V as hr,b4 as vr,b5 as dr,b6 as gr,b7 as br,b8 as pr}from"./CNB1M18W.js";import{c as _r,f as Ar,d as Sr,n as Tr,g as Er}from"./BovVG3Uo.js";function Nr(r,t){var e=void 0,i;J(()=>{e!==(e=t())&&(i&&(M(i),i=null),e&&(i=Y(()=>{R(()=>e(r))})))})}function Z(r){var t,e,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(e=Z(r[t]))&&(i&&(i+=" "),i+=e)}else for(e in r)r[e]&&(i&&(i+=" "),i+=e);return i}function $r(){for(var r,t,e=0,i="",s=arguments.length;e<s;e++)(r=arguments[e])&&(t=Z(r))&&(i&&(i+=" "),i+=t);return i}function kr(r){return typeof r=="object"?$r(r):r??""}const V=[...` 	
\r\fÂ \v\uFEFF`];function yr(r,t,e){var i=r==null?"":""+r;if(e){for(var s in e)if(e[s])i=i?i+" "+s:s;else if(i.length)for(var a=s.length,u=0;(u=i.indexOf(s,u))>=0;){var f=u+a;(u===0||V.includes(i[u-1]))&&(f===i.length||V.includes(i[f]))?i=(u===0?"":i.substring(0,u))+i.substring(f+1):u=f}}return i===""?null:i}function G(r,t=!1){var e=t?" !important;":";",i="";for(var s in r){var a=r[s];a!=null&&a!==""&&(i+=" "+s+": "+a+e)}return i}function C(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function Lr(r,t){if(t){var e="",i,s;if(Array.isArray(t)?(i=t[0],s=t[1]):i=t,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,u=0,f=!1,l=[];i&&l.push(...Object.keys(i).map(C)),s&&l.push(...Object.keys(s).map(C));var h=0,b=-1;const E=r.length;for(var v=0;v<E;v++){var o=r[v];if(f?o==="/"&&r[v-1]==="*"&&(f=!1):a?a===o&&(a=!1):o==="/"&&r[v+1]==="*"?f=!0:o==='"'||o==="'"?a=o:o==="("?u++:o===")"&&u--,!f&&a===!1&&u===0){if(o===":"&&b===-1)b=v;else if(o===";"||v===E-1){if(b!==-1){var T=C(r.substring(h,b).trim());if(!l.includes(T)){o!==";"&&v++;var A=r.substring(h,v).trim();e+=" "+A+";"}}h=v+1,b=-1}}}}return i&&(e+=G(i)),s&&(e+=G(s,!0)),e=e.trim(),e===""?null:e}return r==null?null:String(r)}function wr(r,t,e,i,s,a){var u=r.__className;if(S||u!==e||u===void 0){var f=yr(e,i,a);(!S||f!==r.getAttribute("class"))&&(f==null?r.removeAttribute("class"):t?r.className=f:r.setAttribute("class",f)),r.__className=e}else if(a&&s!==a)for(var l in a){var h=!!a[l];(s==null||h!==!!s[l])&&r.classList.toggle(l,h)}return a}function U(r,t={},e,i){for(var s in e){var a=e[s];t[s]!==a&&(e[s]==null?r.style.removeProperty(s):r.style.setProperty(s,a,i))}}function Or(r,t,e,i){var s=r.__style;if(S||s!==t){var a=Lr(t,i);(!S||a!==r.getAttribute("style"))&&(a==null?r.removeAttribute("style"):r.style.cssText=a),r.__style=t}else i&&(Array.isArray(i)?(U(r,e==null?void 0:e[0],i[0]),U(r,e==null?void 0:e[1],i[1],"important")):U(r,e,i));return i}function w(r,t,e=!1){if(r.multiple){if(t==null)return;if(!tr(t))return er();for(var i of r.options)i.selected=t.includes(L(i));return}for(i of r.options){var s=L(i);if(ir(s,t)){i.selected=!0;return}}(!e||t!==void 0)&&(r.selectedIndex=-1)}function z(r){var t=new MutationObserver(()=>{w(r,r.__value)});t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),sr(()=>{t.disconnect()})}function Dr(r,t,e=t){var i=new WeakSet,s=!0;ar(r,"change",a=>{var u=a?"[selected]":":checked",f;if(r.multiple)f=[].map.call(r.querySelectorAll(u),L);else{var l=r.querySelector(u)??r.querySelector("option:not([disabled])");f=l&&L(l)}e(f),q!==null&&i.add(q)}),R(()=>{var a=t();if(r===document.activeElement){var u=ur??q;if(i.has(u))return}if(w(r,a,s),s&&a===void 0){var f=r.querySelector(":checked");f!==null&&(a=L(f),e(a))}r.__value=a,s=!1}),z(r)}function L(r){return"__value"in r?r.__value:r.value}const k=Symbol("class"),y=Symbol("style"),K=Symbol("is custom element"),F=Symbol("is html");function Pr(r){if(S){var t=!1,e=()=>{if(!t){if(t=!0,r.hasAttribute("value")){var i=r.value;O(r,"value",null),r.value=i}if(r.hasAttribute("checked")){var s=r.checked;O(r,"checked",null),r.checked=s}}};r.__on_r=e,hr(e),vr()}}function Ir(r,t){t?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function O(r,t,e,i){var s=Q(r);S&&(s[t]=r.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&r.nodeName==="LINK")||s[t]!==(s[t]=e)&&(t==="loading"&&(r[br]=e),e==null?r.removeAttribute(t):typeof e!="string"&&W(r).includes(t)?r[t]=e:r.setAttribute(t,e))}function qr(r,t,e,i,s=!1,a=!1){if(S&&s&&r.tagName==="INPUT"){var u=r,f=u.type==="checkbox"?"defaultChecked":"defaultValue";f in e||Pr(u)}var l=Q(r),h=l[K],b=!l[F];let v=S&&h;v&&B(!1);var o=t||{},T=r.tagName==="OPTION";for(var A in t)A in e||(e[A]=null);e.class?e.class=kr(e.class):e[k]&&(e.class=null),e[y]&&(e.style??(e.style=null));var E=W(r);for(const n in e){let c=e[n];if(T&&n==="value"&&c==null){r.value=r.__value="",o[n]=c;continue}if(n==="class"){var $=r.namespaceURI==="http://www.w3.org/1999/xhtml";wr(r,$,c,i,t==null?void 0:t[k],e[k]),o[n]=c,o[k]=e[k];continue}if(n==="style"){Or(r,c,t==null?void 0:t[y],e[y]),o[n]=c,o[y]=e[y];continue}var p=o[n];if(!(c===p&&!(c===void 0&&r.hasAttribute(n)))){o[n]=c;var j=n[0]+n[1];if(j!=="$$")if(j==="on"){const _={},N="$$"+n;let d=n.slice(2);var P=Er(d);if(_r(d)&&(d=d.slice(0,-7),_.capture=!0),!P&&p){if(c!=null)continue;r.removeEventListener(d,o[N],_),o[N]=null}if(c!=null)if(P)r[`__${d}`]=c,Sr([d]);else{let X=function(m){o[n].call(this,m)};o[N]=Ar(d,r,X,_)}else P&&(r[`__${d}`]=void 0)}else if(n==="style")O(r,n,c);else if(n==="autofocus")lr(r,!!c);else if(!h&&(n==="__value"||n==="value"&&c!=null))r.value=r.__value=c;else if(n==="selected"&&T)Ir(r,c);else{var g=n;b||(g=Tr(g));var D=g==="defaultValue"||g==="defaultChecked";if(c==null&&!h&&!D)if(l[n]=null,g==="value"||g==="checked"){let _=r;const N=t===void 0;if(g==="value"){let d=_.defaultValue;_.removeAttribute(g),_.defaultValue=d,_.value=_.__value=N?d:null}else{let d=_.defaultChecked;_.removeAttribute(g),_.defaultChecked=d,_.checked=N?d:!1}}else r.removeAttribute(n);else D||E.includes(g)&&(h||typeof c!="string")?(r[g]=c,g in l&&(l[g]=cr)):typeof c!="function"&&O(r,g,c)}}}return v&&B(!0),o}function Br(r,t,e=[],i=[],s=[],a,u=!1,f=!1){fr(s,e,i,l=>{var h=void 0,b={},v=r.nodeName==="SELECT",o=!1;if(J(()=>{var A=t(...l.map(or)),E=qr(r,h,A,a,u,f);o&&v&&"value"in A&&w(r,A.value);for(let p of Object.getOwnPropertySymbols(b))A[p]||M(b[p]);for(let p of Object.getOwnPropertySymbols(A)){var $=A[p];p.description===nr&&(!h||$!==h[p])&&(b[p]&&M(b[p]),b[p]=Y(()=>Nr(r,()=>$))),E[p]=$}h=E}),v){var T=r;R(()=>{w(T,h.value,!0),z(T)})}o=!0})}function Q(r){return r.__attributes??(r.__attributes={[K]:r.nodeName.includes("-"),[F]:r.namespaceURI===dr})}var H=new Map;function W(r){var t=r.getAttribute("is")||r.nodeName,e=H.get(t);if(e)return e;H.set(t,e=[]);for(var i,s=r,a=Element.prototype;a!==s;){i=pr(s);for(var u in i)i[u].set&&e.push(u);s=gr(s)}return e}const Cr="http://localhost:8000";class Ur{constructor(t){I(this,"baseUrl");I(this,"token",null);this.baseUrl=t}setToken(t){this.token=t}async request(t,e={}){const{params:i,...s}=e;let a=`${this.baseUrl}${t}`;if(i){const l=new URLSearchParams(i);a+=`?${l.toString()}`}const u={"Content-Type":"application/json",...s.headers||{}};this.token&&(u.Authorization=`Bearer ${this.token}`);const f=await fetch(a,{...s,headers:u});if(!f.ok){const l=await f.json().catch(()=>({message:"Request failed"}));throw new Error(l.message||`API Error: ${f.status} ${f.statusText}`)}return f.json()}async get(t,e){return this.request(t,{...e,method:"GET"})}async post(t,e,i){return this.request(t,{...i,method:"POST",body:e?JSON.stringify(e):void 0})}async put(t,e,i){return this.request(t,{...i,method:"PUT",body:e?JSON.stringify(e):void 0})}async delete(t,e){return this.request(t,{...e,method:"DELETE"})}login(t,e){return this.post("/api/auth/login",{email:t,password:e})}register(t,e){return this.post("/api/auth/register",{email:t,password:e})}getMe(){return this.get("/api/auth/me")}getDevices(){return this.get("/api/devices")}deleteDevice(t){return this.delete(`/api/devices/${t}`)}updateDevice(t,e){return this.put(`/api/devices/${t}`,{name:e})}getRules(){return this.get("/api/rules")}createRule(t){return this.post("/api/rules",t)}updateRule(t,e){return this.put(`/api/rules/${t}`,e)}deleteRule(t){return this.delete(`/api/rules/${t}`)}testRule(t){return this.post(`/api/rules/${t}/test`)}getPairingToken(){return this.post("/api/devices/pairing-token")}checkPairingStatus(t){return this.get(`/api/devices/pairing-status/${t}`)}getDashboardStats(){return this.get("/api/logs/stats")}getLogs(t){const e={};return t.page&&(e.page=String(t.page)),t.limit&&(e.limit=String(t.limit)),t.direction&&(e.direction=t.direction),t.status&&(e.status=t.status),this.get("/api/logs",{params:e})}}const Vr=new Ur(Cr);export{Vr as a,Dr as b,O as c,Br as d,Pr as r,wr as s};
